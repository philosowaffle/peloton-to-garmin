import getNodeName from"../dom-utils/getNodeName.js";import{isHTMLElement}from"../dom-utils/instanceOf.js";function applyStyles(e){var n=e.state;Object.keys(n.elements).forEach(function(e){var t=n.styles[e]||{},s=n.attributes[e]||{},r=n.elements[e];isHTMLElement(r)&&getNodeName(r)&&(Object.assign(r.style,t),Object.keys(s).forEach(function(e){var t=s[e];!1===t?r.removeAttribute(e):r.setAttribute(e,!0===t?"":t)}))})}function effect(e){var r=e.state,n={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(r.elements.popper.style,n.popper),r.styles=n,r.elements.arrow&&Object.assign(r.elements.arrow.style,n.arrow),function(){Object.keys(r.elements).forEach(function(e){var t=r.elements[e],s=r.attributes[e]||{},e=Object.keys((r.styles.hasOwnProperty(e)?r.styles:n)[e]).reduce(function(e,t){return e[t]="",e},{});isHTMLElement(t)&&getNodeName(t)&&(Object.assign(t.style,e),Object.keys(s).forEach(function(e){t.removeAttribute(e)}))})}}export default{name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect,requires:["computeStyles"]};